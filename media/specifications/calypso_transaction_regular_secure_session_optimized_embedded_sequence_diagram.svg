<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="7041px" preserveAspectRatio="none" style="width:1735px;height:7041px;background:#FFFFFF;" version="1.1" viewBox="0 0 1735 7041" width="1735px" zoomAndPan="magnify"><defs/><g><g><title>Ticketing Application</title><rect fill="#FFD700" height="6860.1387" style="stroke:#181818;stroke-width:1;" width="10" x="75.0166" y="91.4883"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="272.3516"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="197.1738" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="315.6621"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="947.1152"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="149.2422" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="990.4258"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="311.416" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="1347.8418"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="1688.5684"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="161.8633" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="666.6992"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="888.4941"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="59.9316" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="1747.1895"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2018.6055"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="450.8398" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2061.916"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2557.377"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="285.0371" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2600.6875"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3082.5195"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="300.3477" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3125.8301"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3513.1094"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="315.6582" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3556.4199"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3959.0098"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="330.9688" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4002.3203"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4450.8418"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="1937.8027" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4494.1523"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="161.8633" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="6587.9004"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="222.1738" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="1407.7734"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="221.6094" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="2200.5938"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="2660.6191"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="3185.7617"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="3616.3516"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="4062.252"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="762.1309" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="5262.9238"/></g><g><title>..Card..</title><rect fill="#ADD8E6" height="5347.9902" style="stroke:#181818;stroke-width:1;" width="10" x="1030.1665" y="1437.084"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1305.1362" y="213.7305"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="44.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1305.1362" y="542.1465"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="375.5938"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="726.6309"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="555.9766" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="4647.0156"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="6176.918"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="6647.832"/></g><g><title>..SAM..</title><rect fill="#90EE90" height="6546.7227" style="stroke:#181818;stroke-width:1;" width="10" x="1679.4409" y="404.9043"/></g><rect fill="none" height="162.9883" style="stroke:#000000;stroke-width:1.5;" width="543.6665" x="526" y="2215.5938"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="2675.6191"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="3200.7617"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="3631.3516"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="4077.252"/><rect fill="none" height="109.7461" style="stroke:#000000;stroke-width:1.5;" width="358.2974" x="1360.6436" y="5006.3145"/><rect fill="none" height="247.1055" style="stroke:#000000;stroke-width:1.5;" width="414.7607" x="704.6616" y="5277.9238"/><g><title>Ticketing Application</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="76.0166" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="80" x2="80" y1="81.4883" y2="6960.627"/></g><g><title>Reader API</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="404.7148" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="408.4229" x2="408.4229" y1="81.4883" y2="6960.627"/></g><g><title>Calypso</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="493.916" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="497.0068" x2="497.0068" y1="81.4883" y2="6960.627"/></g><g><title>Calypso Card</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="762.519" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="765.6616" x2="765.6616" y1="81.4883" y2="6960.627"/></g><g><title>..Card..</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="1031.1665" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1034.6665" x2="1034.6665" y1="81.4883" y2="6960.627"/></g><g><title>Calypso SAM</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="1306.1362" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1309.6289" x2="1309.6289" y1="81.4883" y2="6960.627"/></g><g><title>Calypso SAM</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="1417.1509" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1420.6436" x2="1420.6436" y1="81.4883" y2="6960.627"/></g><g><title>..SAM..</title><rect fill="#000000" fill-opacity="0.00000" height="6879.1387" width="8" x="1680.4409" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1683.9409" x2="1683.9409" y1="81.4883" y2="6960.627"/></g><g class="participant participant-head" data-participant="app"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.0332" x="5" y="78.5352">Ticketing Application</text><ellipse cx="80.0166" cy="13.5" fill="#FFD700" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M80.0166,21.5 L80.0166,48.5 M67.0166,29.5 L93.0166,29.5 M80.0166,48.5 L67.0166,63.5 M80.0166,48.5 L93.0166,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="app"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.0332" x="5" y="6973.1621">Ticketing Application</text><ellipse cx="80.0166" cy="6984.6152" fill="#FFD700" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M80.0166,6992.6152 L80.0166,7019.6152 M67.0166,7000.6152 L93.0166,7000.6152 M80.0166,7019.6152 L67.0166,7034.6152 M80.0166,7019.6152 L93.0166,7034.6152" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="rapi"><rect fill="#FFC0CB" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.584" x="365.4229" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.584" x="372.4229" y="70.5352">Reader API</text></g><g class="participant participant-tail" data-participant="rapi"><rect fill="#FFC0CB" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.584" x="365.4229" y="6959.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.584" x="372.4229" y="6980.1621">Reader API</text></g><g class="participant participant-head" data-participant="capi"><rect fill="#ADD8E6" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.8184" x="462.0068" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3271" x="471.2524" y="54.0469">Calypso</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.8184" x="469.0068" y="70.5352">Card API</text></g><g class="participant participant-tail" data-participant="capi"><rect fill="#ADD8E6" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.8184" x="462.0068" y="6959.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3271" x="471.2524" y="6980.1621">Calypso</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.8184" x="469.0068" y="6996.6504">Card API</text></g><g class="participant participant-head" data-participant="cardReader"><rect fill="#ADD8E6" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.7148" x="714.6616" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.7148" x="721.6616" y="54.0469">Calypso Card</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.7236" x="743.1572" y="70.5352">Reader</text></g><g class="participant participant-tail" data-participant="cardReader"><rect fill="#ADD8E6" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.7148" x="714.6616" y="6959.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.7148" x="721.6616" y="6980.1621">Calypso Card</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.7236" x="743.1572" y="6996.6504">Reader</text></g><g class="participant participant-head" data-participant="card"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33.8447" x="1015.2441" y="78.5352">Card</text><path d="M1014.6665,37 L1014.6665,61 M1014.6665,49 L1031.6665,49" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1043.6665" cy="49" fill="#ADD8E6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="card"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33.8447" x="1015.2441" y="6973.1621">Card</text><path d="M1014.6665,6980.1152 L1014.6665,7004.1152 M1014.6665,6992.1152 L1031.6665,6992.1152" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1043.6665" cy="6992.1152" fill="#ADD8E6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="sapi"><rect fill="#90EE90" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.0146" x="1259.6289" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0146" x="1266.6289" y="54.0469">Calypso SAM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21.4307" x="1299.4209" y="70.5352">API</text></g><g class="participant participant-tail" data-participant="sapi"><rect fill="#90EE90" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.0146" x="1259.6289" y="6959.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0146" x="1266.6289" y="6980.1621">Calypso SAM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21.4307" x="1299.4209" y="6996.6504">API</text></g><g class="participant participant-head" data-participant="samReader"><rect fill="#90EE90" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.0146" x="1370.6436" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0146" x="1377.6436" y="54.0469">Calypso SAM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.7236" x="1397.7891" y="70.5352">Reader</text></g><g class="participant participant-tail" data-participant="samReader"><rect fill="#90EE90" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.0146" x="1370.6436" y="6959.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0146" x="1377.6436" y="6980.1621">Calypso SAM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.7236" x="1397.7891" y="6996.6504">Reader</text></g><g class="participant participant-head" data-participant="sam"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31.0146" x="1665.9336" y="78.5352">SAM</text><path d="M1663.9409,37 L1663.9409,61 M1663.9409,49 L1680.9409,49" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1692.9409" cy="49" fill="#90EE90" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="sam"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31.0146" x="1665.9336" y="6973.1621">SAM</text><path d="M1663.9409,6980.1152 L1663.9409,7004.1152 M1663.9409,6992.1152 L1680.9409,6992.1152" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1692.9409" cy="6992.1152" fill="#90EE90" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>Ticketing Application</title><rect fill="#FFD700" height="6860.1387" style="stroke:#181818;stroke-width:1;" width="10" x="75.0166" y="91.4883"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="272.3516"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="197.1738" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="315.6621"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="947.1152"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="149.2422" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="990.4258"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="311.416" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="1347.8418"/></g><g><title>Reader API</title><rect fill="#FFC0CB" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="403.7148" y="1688.5684"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="161.8633" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="666.6992"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="888.4941"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="59.9316" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="1747.1895"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2018.6055"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="450.8398" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2061.916"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2557.377"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="285.0371" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="2600.6875"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3082.5195"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="300.3477" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3125.8301"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3513.1094"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="315.6582" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3556.4199"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="3959.0098"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="330.9688" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4002.3203"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4450.8418"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="1937.8027" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="4494.1523"/></g><g><title>Calypso</title><rect fill="#ADD8E6" height="161.8633" style="stroke:#181818;stroke-width:1;" width="10" x="492.916" y="6587.9004"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="222.1738" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="1407.7734"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="221.6094" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="2200.5938"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="2660.6191"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="3185.7617"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="3616.3516"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="119.2422" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="4062.252"/></g><g><title>Calypso Card</title><rect fill="#ADD8E6" height="762.1309" style="stroke:#181818;stroke-width:1;" width="10" x="761.519" y="5262.9238"/></g><g><title>..Card..</title><rect fill="#ADD8E6" height="5347.9902" style="stroke:#181818;stroke-width:1;" width="10" x="1030.1665" y="1437.084"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1305.1362" y="213.7305"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="44.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1305.1362" y="542.1465"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="72.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="375.5938"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="726.6309"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="555.9766" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="4647.0156"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="6176.918"/></g><g><title>Calypso SAM</title><rect fill="#90EE90" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1416.1509" y="6647.832"/></g><g><title>..SAM..</title><rect fill="#90EE90" height="6546.7227" style="stroke:#181818;stroke-width:1;" width="10" x="1679.4409" y="404.9043"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="112.1436"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="112.1436" y2="112.1436"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="115.1436" y2="115.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="314.8091" x="707.0659" y="101.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="296.5244" x="713.0659" y="118.0566">Access Control embedded Terminal settings</text><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="156.1094" y2="156.1094"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="156.1094" y2="169.1094"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="169.1094" y2="169.1094"/><polygon fill="#181818" points="96.0166,165.1094,86.0166,169.1094,96.0166,173.1094,92.0166,169.1094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2363" x="92.0166" y="151.3672">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.6104" x="116.3662" y="151.3672">Calypso SAM lib</text></g><g class="message" data-participant-1="app" data-participant-2="sapi"><polygon fill="#181818" points="1293.1362,209.7305,1303.1362,213.7305,1293.1362,217.7305,1297.1362,213.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="1299.1362" y1="213.7305" y2="213.7305"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="193.6777">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7681" x="148.0537" y="193.6777">card selection:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.5103" x="124.9229" y="208.9883">- filter by Power-On data</text></g><g class="message" data-participant-1="sapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,223.7305,86.0166,227.7305,96.0166,231.7305,92.0166,227.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="1309.1362" y1="227.7305" y2="227.7305"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,268.3516,401.7148,272.3516,391.7148,276.3516,395.7148,272.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="272.3516" y2="272.3516"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="252.2988">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.7192" x="148.0537" y="252.2988">card selection scenario:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.9683" x="124.9229" y="267.6094">- legacy SAM selection</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,282.3516,86.0166,286.3516,96.0166,290.3516,92.0166,286.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="286.3516" y2="286.3516"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,311.6621,401.7148,315.6621,391.7148,319.6621,395.7148,315.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="315.6621" y2="315.6621"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="310.9199">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.9854" x="148.1934" y="310.9199">synchronous card selection scenario</text></g><g class="message" data-participant-1="rapi" data-participant-2="samReader"><polygon fill="#00FF00" points="1404.1509,371.5938,1414.1509,375.5938,1404.1509,379.5938,1408.1509,375.5938" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;" x1="413.7148" x2="1410.1509" y1="375.5938" y2="375.5938"/><text fill="#008000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49.3403" x="420.7148" y="340.2305">SAM #x</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.7852" x="420.7148" y="355.541">transmit selection request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.7837" x="453.6211" y="370.8516">- card selector</text></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,400.9043,1677.4409,404.9043,1667.4409,408.9043,1671.4409,404.9043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="404.9043" y2="404.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.0859" x="1433.1509" y="400.1621">open card channel</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,414.9043,1427.1509,418.9043,1437.1509,422.9043,1433.1509,418.9043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="418.9043" y2="418.9043"/></g><g class="message" data-participant-1="samReader" data-participant-2="rapi"><polygon fill="#00FF00" points="424.7148,444.2148,414.7148,448.2148,424.7148,452.2148,420.7148,448.2148" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;stroke-dasharray:2,2;" x1="418.7148" x2="1420.1509" y1="448.2148" y2="448.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.915" x="430.7148" y="443.4727">receive selection response</text></g><path d="M1088,461.2148 L1088,486.2148 L1530,486.2148 L1530,471.2148 L1520,461.2148 L1088,461.2148" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1520,461.2148 L1520,471.2148 L1530,471.2148 L1520,461.2148" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="421.9922" x="1094" y="478.7832">The SAM remains permanently selected between card transactions.</text><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,508.8359,86.0166,512.8359,96.0166,516.8359,92.0166,512.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="512.8359" y2="512.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.1816" x="102.0166" y="508.0938">selected active SmartCard image</text></g><g class="message" data-participant-1="app" data-participant-2="sapi"><polygon fill="#181818" points="1293.1362,538.1465,1303.1362,542.1465,1293.1362,546.1465,1297.1362,542.1465" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="1299.1362" y1="542.1465" y2="542.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.1807" x="92.0166" y="537.4043">cast</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.6206" x="123.3105" y="537.4043">SAM card</text></g><g class="message" data-participant-1="sapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,582.7676,86.0166,586.7676,96.0166,590.7676,92.0166,586.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="1309.1362" y1="586.7676" y2="586.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.894" x="102.0166" y="566.7148">[legacy SAM image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.2983" x="134.9229" y="582.0254">- identification data]</text></g><path d="M1110,599.7676 L1110,639.7676 L1509,639.7676 L1509,609.7676 L1499,599.7676 L1110,599.7676" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1499,599.7676 L1499,609.7676 L1509,609.7676 L1499,599.7676" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378.1045" x="1116" y="617.3359">Apart from SAM module selection, a secure transaction with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.3018" x="1116" y="632.6465">a Calypso card is managed independently of the SAM API.</text><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,662.6992,490.916,666.6992,480.916,670.6992,484.916,666.6992" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="666.6992" y2="666.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.2612" x="92.0166" y="661.957">init</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.7017" x="118.3911" y="661.957">crypto context for next transaction</text></g><g class="message" data-participant-1="capi" data-participant-2="samReader"><polygon fill="#00FF00" points="1404.1509,722.6309,1414.1509,726.6309,1404.1509,730.6309,1408.1509,726.6309" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;" x1="502.916" x2="1410.1509" y1="726.6309" y2="726.6309"/><text fill="#008000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.5522" x="509.916" y="691.2676">SAM #x'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="706.5781">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="721.8887">- APDU list</text></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,751.9414,1677.4409,755.9414,1667.4409,759.9414,1671.4409,755.9414" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="755.9414" y2="755.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.4048" x="1433.1509" y="751.1992">get challenge</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,781.252,1427.1509,785.252,1437.1509,789.252,1433.1509,785.252" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="785.252" y2="785.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8169" x="1443.1509" y="780.5098">[SAM challenge]</text></g><g class="message" data-participant-1="samReader" data-participant-2="capi"><polygon fill="#00FF00" points="513.916,810.5625,503.916,814.5625,513.916,818.5625,509.916,814.5625" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="1420.1509" y1="814.5625" y2="814.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8169" x="519.916" y="809.8203">[SAM challenge]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,824.5625,86.0166,828.5625,96.0166,832.5625,92.0166,828.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="828.5625" y2="828.5625"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,884.4941,490.916,888.4941,480.916,892.4941,484.916,888.4941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="888.4941" y2="888.4941"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="853.1309">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7681" x="148.0537" y="853.1309">card selection:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.7852" x="124.9229" y="868.4414">- filter by specific AID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.1572" x="124.9229" y="883.752">- filter invalidated card status</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,898.4941,86.0166,902.4941,96.0166,906.4941,92.0166,902.4941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="902.4941" y2="902.4941"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,943.1152,401.7148,947.1152,391.7148,951.1152,395.7148,947.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="947.1152" y2="947.1152"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="927.0625">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.7192" x="148.0537" y="927.0625">card selection scenario:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.9214" x="124.9229" y="942.373">- Calypso card selection</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,957.1152,86.0166,961.1152,96.0166,965.1152,92.0166,961.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="961.1152" y2="961.1152"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,986.4258,401.7148,990.4258,391.7148,994.4258,395.7148,990.4258" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="990.4258" y2="990.4258"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.4204" x="92.0166" y="985.6836">schedule</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.1646" x="155.5503" y="985.6836">asynchronous card selection scenario</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1000.4258,86.0166,1004.4258,96.0166,1008.4258,92.0166,1004.4258" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="402.7148" y1="1004.4258" y2="1004.4258"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,1029.7363,401.7148,1033.7363,391.7148,1037.7363,395.7148,1033.7363" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="1033.7363" y2="1033.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.5435" x="92.0166" y="1028.9941">add</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.0332" x="119.6733" y="1028.9941">observer</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1043.7363,86.0166,1047.7363,96.0166,1051.7363,92.0166,1047.7363" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="402.7148" y1="1047.7363" y2="1047.7363"/></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,1073.0469,401.7148,1077.0469,391.7148,1081.0469,395.7148,1077.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="1077.0469" y2="1077.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98.0967" x="92.0166" y="1072.3047">start detection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2554" x="194.2266" y="1072.3047">- repeating mode</text></g><polygon fill="#FFA500" points="687,1090.0469,845,1090.0469,855,1109.0469,845,1128.0469,687,1128.0469,677,1109.0469,687,1090.0469" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.4243" x="689" y="1106.6152">reader in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154.9082" x="689" y="1121.9258">Wait For Card Insertion</text><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1135.668,86.0166,1139.668,96.0166,1143.668,92.0166,1139.668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="1139.668" y2="1139.668"/></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="1168.9785" y2="1168.9785"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="1168.9785" y2="1181.9785"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="1181.9785" y2="1181.9785"/><polygon fill="#181818" points="96.0166,1177.9785,86.0166,1181.9785,96.0166,1185.9785,92.0166,1181.9785" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.355" x="92.0166" y="1164.2363">wait</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.2334" x="124.4849" y="1164.2363">for card presence</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="1218.2891"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="1218.2891" y2="1218.2891"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="1221.2891" y2="1221.2891"/><rect fill="#EEEEEE" height="38.6211" style="stroke:#000000;stroke-width:2;" width="221.3208" x="753.8101" y="1199.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="204.2549" x="759.8101" y="1216.5469">Access Control operation start</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203.0361" x="759.8101" y="1231.8574">Card selection &amp; identification</text><g class="message" data-participant-1="cardReader" data-participant-2="cardReader"><polygon fill="#FFA500" points="777.519,1265.9102,767.519,1269.9102,777.519,1273.9102,773.519,1269.9102" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="771.519" x2="942.6499" y1="1269.9102" y2="1269.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.3394" x="783.519" y="1265.168">card</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.979" x="814.9717" y="1265.168">insertion</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4727" x="883.1772" y="1265.168">.  .  .  .  .</text></g><polygon fill="#FFA500" points="680,1282.9102,851,1282.9102,861,1301.9102,851,1320.9102,680,1320.9102,670,1301.9102,680,1282.9102" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.4243" x="682" y="1299.4785">reader in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167.6099" x="682" y="1314.7891">Wait For Card Processing</text><g class="message" data-participant-1="cardReader" data-participant-2="rapi"><polygon fill="#FFA500" points="424.7148,1343.8418,414.7148,1347.8418,424.7148,1351.8418,420.7148,1347.8418" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="418.7148" x2="765.519" y1="1347.8418" y2="1347.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.979" x="430.7148" y="1343.0996">insertion</text></g><g class="message" data-participant-1="rapi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,1403.7734,759.519,1407.7734,749.519,1411.7734,753.519,1407.7734" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="413.7148" x2="755.519" y1="1407.7734" y2="1407.7734"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="420.7148" y="1372.4102">Card #1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.7852" x="420.7148" y="1387.7207">transmit selection request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.7837" x="453.6211" y="1403.0313">- card selector</text></g><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,1433.084,1028.1665,1437.084,1018.1665,1441.084,1022.1665,1437.084" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="1437.084" y2="1437.084"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.0859" x="778.519" y="1432.3418">open card channel</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,1447.084,772.519,1451.084,782.519,1455.084,778.519,1451.084" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="1451.084" y2="1451.084"/></g><polygon fill="#B0E0E6" points="992,1464.084,1078,1464.084,1088,1483.084,1078,1502.084,992,1502.084,982,1483.084,992,1464.084" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.2783" x="994" y="1480.6523">card in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="48.896" x="994" y="1495.9629">ratified</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,1525.0156,1028.1665,1529.0156,1018.1665,1533.0156,1022.1665,1529.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="1529.0156" y2="1529.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7622" x="778.519" y="1524.2734">select application (aid)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,1554.3262,772.519,1558.3262,782.519,1562.3262,778.519,1558.3262" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="1558.3262" y2="1558.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.6172" x="788.519" y="1553.584">[card FCI]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="cardReader"><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="813.519" y1="1587.6367" y2="1587.6367"/><line style="stroke:#181818;stroke-width:1;" x1="813.519" x2="813.519" y1="1587.6367" y2="1600.6367"/><line style="stroke:#181818;stroke-width:1;" x1="772.519" x2="813.519" y1="1600.6367" y2="1600.6367"/><polygon fill="#181818" points="782.519,1596.6367,772.519,1600.6367,782.519,1604.6367,778.519,1600.6367" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.5889" x="778.519" y="1582.8945">checks invalidation status</text></g><g class="message" data-participant-1="cardReader" data-participant-2="rapi"><polygon fill="#0000FF" points="424.7148,1625.9473,414.7148,1629.9473,424.7148,1633.9473,420.7148,1629.9473" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="418.7148" x2="765.519" y1="1629.9473" y2="1629.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.915" x="430.7148" y="1625.2051">receive selection response</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1655.2578,86.0166,1659.2578,96.0166,1663.2578,92.0166,1659.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="1659.2578" y2="1659.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39.3047" x="102.0166" y="1654.5156">notify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.0737" x="145.4346" y="1654.5156">scheduled card selections responsee</text></g><g class="message" data-participant-1="app" data-participant-2="rapi"><polygon fill="#181818" points="391.7148,1684.5684,401.7148,1688.5684,391.7148,1692.5684,395.7148,1688.5684" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="397.7148" y1="1688.5684" y2="1688.5684"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.1338" x="92.0166" y="1683.8262">parse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.8311" x="133.2637" y="1683.8262">scheduled card selections response</text></g><g class="message" data-participant-1="rapi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1713.8789,86.0166,1717.8789,96.0166,1721.8789,92.0166,1717.8789" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="407.7148" y1="1717.8789" y2="1717.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.1816" x="102.0166" y="1713.1367">selected active SmartCard image</text></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,1743.1895,490.916,1747.1895,480.916,1751.1895,484.916,1747.1895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="1747.1895" y2="1747.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.1807" x="92.0166" y="1742.4473">cast</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9707" x="123.3105" y="1742.4473">Calypso card</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,1803.1211,86.0166,1807.1211,96.0166,1811.1211,92.0166,1807.1211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="1807.1211" y2="1807.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="1771.7578">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="1787.0684">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4854" x="134.9229" y="1802.3789">- invalidation status]</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="1835.7764"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="1835.7764" y2="1835.7764"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="1838.7764" y2="1838.7764"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="177.8394" x="775.5508" y="1825.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159.5547" x="781.5508" y="1841.6895">Card secure transaction</text><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="1910.3633" y2="1910.3633"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="1910.3633" y2="1923.3633"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="1923.3633" y2="1923.3633"/><polygon fill="#181818" points="96.0166,1919.3633,86.0166,1923.3633,96.0166,1927.3633,92.0166,1923.3633" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="71.5889" x="92.0166" y="1875">instantiate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.7642" x="167.7188" y="1875">Calypso card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.1821" x="124.9229" y="1890.3105">- Calypso card resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0107" x="124.9229" y="1905.6211">- Calypso SAM resource</text></g><path d="M377,1936.3633 L377,1961.3633 L618,1961.3633 L618,1946.3633 L608,1936.3633 L377,1936.3633" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M608,1936.3633 L608,1946.3633 L618,1946.3633 L608,1936.3633" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0923" x="383" y="1953.9316">Only reads data inside the session.</text><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,2014.6055,490.916,2018.6055,480.916,2022.6055,484.916,2018.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="2018.6055" y2="2018.6055"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="1983.2422">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1328" x="148.0537" y="1983.2422">card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.1763" x="124.9229" y="1998.5527">- open secure session (DEBIT access level)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.8022" x="124.9229" y="2013.8633">- read environment file</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,2028.6055,86.0166,2032.6055,96.0166,2036.6055,92.0166,2032.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="2032.6055" y2="2032.6055"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,2057.916,490.916,2061.916,480.916,2065.916,484.916,2061.916" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="2061.916" y2="2061.916"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="2057.1738">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="2057.1738">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.0747" x="225.5078" y="2057.1738">keep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="261.6958" y="2057.1738">channel open)</text></g><g class="message" data-participant-1="capi" data-participant-2="capi"><line style="stroke:#00FF00;stroke-width:1;" x1="502.916" x2="544.916" y1="2127.6621" y2="2127.6621"/><line style="stroke:#00FF00;stroke-width:1;" x1="544.916" x2="544.916" y1="2127.6621" y2="2140.6621"/><line style="stroke:#00FF00;stroke-width:1;" x1="503.916" x2="544.916" y1="2140.6621" y2="2140.6621"/><polygon fill="#00FF00" points="513.916,2136.6621,503.916,2140.6621,513.916,2144.6621,509.916,2140.6621" style="stroke:#00FF00;stroke-width:1;"/><path d="M529.416,2083.666 C529.416,2089.0507 525.0507,2093.416 519.666,2093.416 C514.2813,2093.416 509.916,2089.0507 509.916,2083.666 C509.916,2078.2813 514.2813,2073.916 519.666,2073.916 C525.0507,2073.916 529.416,2078.2813 529.416,2083.666" fill="#FFCC4D"/><path d="M510.5877,2079.8841 C510.7177,2080.0136 511.3666,2080.4025 511.4961,2080.7914 C511.6261,2081.1798 511.8861,2083.3827 512.665,2084.0311 C513.4683,2084.6984 516.4983,2084.4503 517.0785,2084.1611 C518.3768,2083.5138 518.5361,2081.7068 518.7658,2080.7914 C518.8952,2080.273 519.6741,2080.273 519.6741,2080.273 C519.6741,2080.273 520.4531,2080.273 520.5831,2080.7908 C520.8127,2081.7068 520.9731,2083.5138 522.2703,2084.1606 C522.851,2084.4503 525.8811,2084.699 526.6855,2084.0316 C527.4633,2083.3833 527.7228,2081.1803 527.8528,2080.7914 C527.9817,2080.403 528.6317,2080.0141 528.7611,2079.8846 C528.8917,2079.7552 528.8917,2079.2368 528.7611,2079.1068 C528.5017,2078.8479 525.4386,2078.6171 522.1403,2078.9773 C521.4822,2079.0494 521.232,2079.2363 519.6736,2079.2363 C518.1163,2079.2363 517.865,2079.0488 517.2074,2078.9773 C513.9113,2078.6166 510.8477,2078.8473 510.5877,2079.1063 C510.4582,2079.2357 510.4582,2079.7546 510.5877,2079.8841" fill="#292F33"/><path d="M524.7225,2086.7151 C524.6261,2086.6278 524.482,2086.6224 524.3785,2086.6993 C524.3574,2086.7151 522.2541,2088.2702 519.666,2088.2702 C517.0844,2088.2702 514.9741,2086.7151 514.9535,2086.6993 C514.8501,2086.6224 514.706,2086.6289 514.6096,2086.7151 C514.5137,2086.8017 514.492,2086.9447 514.5586,2087.0552 C514.6285,2087.1717 516.3012,2089.8952 519.666,2089.8952 C523.0308,2089.8952 524.7041,2087.1717 524.7734,2087.0552 C524.84,2086.9442 524.8189,2086.8017 524.7225,2086.7151" fill="#664500"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.9766" x="533.5293" y="2092.2988">SAM challenge already known</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.8677" x="509.916" y="2107.6094">no need to request it during</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3057" x="509.916" y="2122.9199">the card transaction</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,2196.5938,759.519,2200.5938,749.519,2204.5938,753.519,2200.5938" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="2200.5938" y2="2200.5938"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="2165.2305">Card #2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="2180.541">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="2195.8516">- APDU list</text></g><path d="M526,2215.5938 L820.8818,2215.5938 L820.8818,2222.9043 L810.8818,2232.9043 L526,2232.9043 L526,2215.5938" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="162.9883" style="stroke:#000000;stroke-width:1.5;" width="543.6665" x="526" y="2215.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="541" y="2229.1621">Card APDU commands inside session</text><path d="M536,2237.9043 L536,2268.9043 L995,2268.9043 L995,2247.9043 L985,2237.9043 L536,2237.9043" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M985,2237.9043 L985,2247.9043 L995,2247.9043 L985,2237.9043" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M561.5,2252.6543 C561.5,2258.039 557.1347,2262.4043 551.75,2262.4043 C546.3653,2262.4043 542,2258.039 542,2252.6543 C542,2247.2696 546.3653,2242.9043 551.75,2242.9043 C557.1347,2242.9043 561.5,2247.2696 561.5,2252.6543" fill="#FFCC4D"/><path d="M542.6717,2248.8724 C542.8017,2249.0018 543.4506,2249.3908 543.58,2249.7797 C543.71,2250.168 543.97,2252.371 544.749,2253.0194 C545.5523,2253.6867 548.5823,2253.4386 549.1625,2253.1494 C550.4608,2252.5021 550.6201,2250.6951 550.8498,2249.7797 C550.9792,2249.2613 551.7581,2249.2613 551.7581,2249.2613 C551.7581,2249.2613 552.537,2249.2613 552.667,2249.7791 C552.8967,2250.6951 553.057,2252.5021 554.3543,2253.1488 C554.935,2253.4386 557.9651,2253.6873 558.7695,2253.0199 C559.5473,2252.3715 559.8068,2250.1686 559.9368,2249.7797 C560.0657,2249.3913 560.7157,2249.0024 560.8451,2248.8729 C560.9757,2248.7435 560.9757,2248.2251 560.8451,2248.0951 C560.5857,2247.8362 557.5225,2247.6054 554.2243,2247.9656 C553.5662,2248.0377 553.316,2248.2245 551.7576,2248.2245 C550.2003,2248.2245 549.949,2248.0371 549.2914,2247.9656 C545.9953,2247.6049 542.9317,2247.8356 542.6717,2248.0945 C542.5422,2248.224 542.5422,2248.7429 542.6717,2248.8724" fill="#292F33"/><path d="M556.8065,2255.7033 C556.71,2255.6161 556.566,2255.6107 556.4625,2255.6876 C556.4414,2255.7033 554.3381,2257.2585 551.75,2257.2585 C549.1684,2257.2585 547.0581,2255.7033 547.0375,2255.6876 C546.934,2255.6107 546.79,2255.6172 546.6935,2255.7033 C546.5977,2255.79 546.576,2255.933 546.6426,2256.0435 C546.7125,2256.16 548.3852,2258.8835 551.75,2258.8835 C555.1148,2258.8835 556.788,2256.16 556.8574,2256.0435 C556.924,2255.9325 556.9029,2255.79 556.8065,2255.7033" fill="#664500"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415.0542" x="565.6133" y="2261.2871">Optimization: environment file read through the session opening.</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,2321.9609,1028.1665,2325.9609,1018.1665,2329.9609,1022.1665,2325.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="2325.9609" y2="2325.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6772" x="778.519" y="2290.5977">open secure session (card debit key,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.4751" x="811.4253" y="2305.9082">SAM challenge,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5337" x="811.4253" y="2321.2188">SFI environment to read)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,2366.582,772.519,2370.582,782.519,2374.582,778.519,2370.582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="2370.582" y2="2370.582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.5581" x="788.519" y="2350.5293">[card challenge &amp; ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.2227" x="796.7456" y="2365.8398">environment data]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,2418.2031,503.916,2422.2031,513.916,2426.2031,509.916,2422.2031" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="2422.2031" y2="2422.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.5581" x="519.916" y="2402.1504">[card challenge &amp; ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.2227" x="528.1426" y="2417.4609">environment data]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,2508.7559,86.0166,2512.7559,96.0166,2516.7559,92.0166,2512.7559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="2512.7559" y2="2512.7559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="2446.7715">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="2462.082">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="2477.3926">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="2492.7031">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3691" x="134.9229" y="2508.0137">- ratification status]</text></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,2553.377,490.916,2557.377,480.916,2561.377,484.916,2557.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="2557.377" y2="2557.377"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="2537.3242">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1328" x="148.0537" y="2537.3242">card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.3555" x="124.9229" y="2552.6348">- read last event</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,2567.377,86.0166,2571.377,96.0166,2575.377,92.0166,2571.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="2571.377" y2="2571.377"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,2596.6875,490.916,2600.6875,480.916,2604.6875,484.916,2600.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="2600.6875" y2="2600.6875"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="2595.9453">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="2595.9453">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.0747" x="225.5078" y="2595.9453">keep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="261.6958" y="2595.9453">channel open)</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,2656.6191,759.519,2660.6191,749.519,2664.6191,753.519,2660.6191" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="2660.6191" y2="2660.6191"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="2625.2559">Card #3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="2640.5664">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="2655.877">- APDU list</text></g><path d="M704.6616,2675.6191 L999.5435,2675.6191 L999.5435,2682.9297 L989.5435,2692.9297 L704.6616,2692.9297 L704.6616,2675.6191" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="2675.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="719.6616" y="2689.1875">Card APDU commands inside session</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,2710.2402,1028.1665,2714.2402,1018.1665,2718.2402,1022.1665,2714.2402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="2714.2402" y2="2714.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9961" x="778.519" y="2709.498">read record (last event)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,2739.5508,772.519,2743.5508,782.519,2747.5508,778.519,2743.5508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="2743.5508" y2="2743.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.6548" x="788.519" y="2738.8086">[last event data]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,2775.8613,503.916,2779.8613,513.916,2783.8613,509.916,2779.8613" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="2779.8613" y2="2779.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.6548" x="519.916" y="2775.1191">[last event data]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,2881.7246,86.0166,2885.7246,96.0166,2889.7246,92.0166,2885.7246" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="2885.7246" y2="2885.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="2804.4297">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="2819.7402">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="2835.0508">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="2850.3613">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1416" x="134.9229" y="2865.6719">- ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.0625" x="134.9229" y="2880.9824">- last event data]</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="2930.3457" y2="2930.3457"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="2930.3457" y2="2943.3457"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="2943.3457" y2="2943.3457"/><polygon fill="#181818" points="96.0166,2939.3457,86.0166,2943.3457,96.0166,2947.3457,92.0166,2943.3457" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.957" x="92.0166" y="2910.293">anti-passback management</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.1196" x="92.0166" y="2925.6035">&amp; communication failure recovery</text></g><rect fill="#D8BFD8" height="84" style="stroke:#181818;stroke-width:0.5;" width="414" x="90" y="2956.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.8354" x="94" y="2972.9141">&#65039;&#9888;&#65039;if (last event occurred shorter than the anti-pass delay)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.3369" x="94" y="2988.2246">&amp;&amp; (card status is ratified) &#8594; decline card transaction</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="94" y="3003.5352">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.8354" x="94" y="3018.8457">&#65039;&#9888;&#65039;if (last event occurred shorter than the anti-pass delay)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406.1738" x="94" y="3034.1563">&amp;&amp; (card status is none-ratified) &#8594; manage recovery transaction</text><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3078.5195,490.916,3082.5195,480.916,3086.5195,484.916,3082.5195" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="3082.5195" y2="3082.5195"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="3062.4668">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1328" x="148.0537" y="3062.4668">card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3838" x="124.9229" y="3077.7773">- read contract list</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,3092.5195,86.0166,3096.5195,96.0166,3100.5195,92.0166,3096.5195" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="3096.5195" y2="3096.5195"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3121.8301,490.916,3125.8301,480.916,3129.8301,484.916,3125.8301" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="3125.8301" y2="3125.8301"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="3121.0879">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="3121.0879">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.0747" x="225.5078" y="3121.0879">keep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="261.6958" y="3121.0879">channel open)</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,3181.7617,759.519,3185.7617,749.519,3189.7617,753.519,3185.7617" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="3185.7617" y2="3185.7617"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="3150.3984">Card #4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="3165.709">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="3181.0195">- APDU list</text></g><path d="M704.6616,3200.7617 L999.5435,3200.7617 L999.5435,3208.0723 L989.5435,3218.0723 L704.6616,3218.0723 L704.6616,3200.7617" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="3200.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="719.6616" y="3214.3301">Card APDU commands inside session</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,3235.3828,1028.1665,3239.3828,1018.1665,3243.3828,1022.1665,3239.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="3239.3828" y2="3239.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.0244" x="778.519" y="3234.6406">read record (contract list)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,3264.6934,772.519,3268.6934,782.519,3272.6934,778.519,3268.6934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="3268.6934" y2="3268.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.6831" x="788.519" y="3263.9512">[contract list data]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,3301.0039,503.916,3305.0039,513.916,3309.0039,509.916,3305.0039" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="3305.0039" y2="3305.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.6831" x="519.916" y="3300.2617">[contract list data]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,3422.1777,86.0166,3426.1777,96.0166,3430.1777,92.0166,3426.1777" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="3426.1777" y2="3426.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="3329.5723">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="3344.8828">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="3360.1934">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="3375.5039">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1416" x="134.9229" y="3390.8145">- ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.835" x="134.9229" y="3406.125">- last event data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.0908" x="134.9229" y="3421.4355">- contract list data]</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="3455.4883" y2="3455.4883"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="3455.4883" y2="3468.4883"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="3468.4883" y2="3468.4883"/><polygon fill="#181818" points="96.0166,3464.4883,86.0166,3468.4883,96.0166,3472.4883,92.0166,3468.4883" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.9849" x="92.0166" y="3450.7461">identifies contract</text></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3509.1094,490.916,3513.1094,480.916,3517.1094,484.916,3513.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="3513.1094" y2="3513.1094"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="3493.0566">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1328" x="148.0537" y="3493.0566">card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.5718" x="124.9229" y="3508.3672">- read contract #x</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,3523.1094,86.0166,3527.1094,96.0166,3531.1094,92.0166,3527.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="3527.1094" y2="3527.1094"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3552.4199,490.916,3556.4199,480.916,3560.4199,484.916,3556.4199" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="3556.4199" y2="3556.4199"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="3551.6777">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="3551.6777">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.0747" x="225.5078" y="3551.6777">keep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="261.6958" y="3551.6777">channel open)</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,3612.3516,759.519,3616.3516,749.519,3620.3516,753.519,3616.3516" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="3616.3516" y2="3616.3516"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="3580.9883">Card #5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="3596.2988">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="3611.6094">- APDU list</text></g><path d="M704.6616,3631.3516 L999.5435,3631.3516 L999.5435,3638.6621 L989.5435,3648.6621 L704.6616,3648.6621 L704.6616,3631.3516" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="3631.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="719.6616" y="3644.9199">Card APDU commands inside session</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,3665.9727,1028.1665,3669.9727,1018.1665,3673.9727,1022.1665,3669.9727" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="3669.9727" y2="3669.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.2124" x="778.519" y="3665.2305">read record (contract #x)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,3695.2832,772.519,3699.2832,782.519,3703.2832,778.519,3699.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="3699.2832" y2="3699.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8711" x="788.519" y="3694.541">[contract #x data]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,3731.5938,503.916,3735.5938,513.916,3739.5938,509.916,3735.5938" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="3735.5938" y2="3735.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8711" x="519.916" y="3730.8516">[contract #x data]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,3868.0781,86.0166,3872.0781,96.0166,3876.0781,92.0166,3872.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="3872.0781" y2="3872.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="3760.1621">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="3775.4727">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="3790.7832">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="3806.0938">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1416" x="134.9229" y="3821.4043">- ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.835" x="134.9229" y="3836.7148">- last event data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8633" x="134.9229" y="3852.0254">- contract list data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2788" x="134.9229" y="3867.3359">- contract #x data]</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="3901.3887" y2="3901.3887"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="3901.3887" y2="3914.3887"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="3914.3887" y2="3914.3887"/><polygon fill="#181818" points="96.0166,3910.3887,86.0166,3914.3887,96.0166,3918.3887,92.0166,3914.3887" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.0098" x="92.0166" y="3896.6465">identifies associated counter</text></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3955.0098,490.916,3959.0098,480.916,3963.0098,484.916,3959.0098" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="3959.0098" y2="3959.0098"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="3938.957">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1328" x="148.0537" y="3938.957">card transaction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.7441" x="124.9229" y="3954.2676">- reader counter #x</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,3969.0098,86.0166,3973.0098,96.0166,3977.0098,92.0166,3973.0098" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="3973.0098" y2="3973.0098"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,3998.3203,490.916,4002.3203,480.916,4006.3203,484.916,4002.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="4002.3203" y2="4002.3203"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="3997.5781">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="3997.5781">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.0747" x="225.5078" y="3997.5781">keep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8608" x="261.6958" y="3997.5781">channel open)</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,4058.252,759.519,4062.252,749.519,4066.252,753.519,4062.252" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="4062.252" y2="4062.252"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="4026.8887">Card #6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="4042.1992">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="4057.5098">- APDU list</text></g><path d="M704.6616,4077.252 L999.5435,4077.252 L999.5435,4084.5625 L989.5435,4094.5625 L704.6616,4094.5625 L704.6616,4077.252" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="365.0049" x="704.6616" y="4077.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="719.6616" y="4090.8203">Card APDU commands inside session</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,4111.873,1028.1665,4115.873,1018.1665,4119.873,1022.1665,4115.873" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="4115.873" y2="4115.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8228" x="778.519" y="4111.1309">read record (counter #x)</text></g><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,4141.1836,772.519,4145.1836,782.519,4149.1836,778.519,4145.1836" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="4145.1836" y2="4145.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.729" x="788.519" y="4140.4414">[counter #1 data]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,4177.4941,503.916,4181.4941,513.916,4185.4941,509.916,4181.4941" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="4181.4941" y2="4181.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.9883" x="519.916" y="4176.752">[card challenge]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,4329.2891,86.0166,4333.2891,96.0166,4337.2891,92.0166,4333.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="4333.2891" y2="4333.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="4206.0625">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="4221.373">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="4236.6836">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="4251.9941">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1416" x="134.9229" y="4267.3047">- ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.835" x="134.9229" y="4282.6152">- last event data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8633" x="134.9229" y="4297.9258">- contract list data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.0513" x="134.9229" y="4313.2363">- contract #x data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.8892" x="134.9229" y="4328.5469">- counter #x data]</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="4362.5996" y2="4362.5996"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="4362.5996" y2="4375.5996"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="4375.5996" y2="4375.5996"/><polygon fill="#181818" points="96.0166,4371.5996,86.0166,4375.5996,96.0166,4379.5996,92.0166,4375.5996" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2065" x="92.0166" y="4357.8574">defines data to update</text></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,4446.8418,490.916,4450.8418,480.916,4454.8418,484.916,4450.8418" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="4450.8418" y2="4450.8418"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51.9238" x="92.0166" y="4400.168">prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="143.9404" y="4400.168">:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.938" x="124.9229" y="4415.4785">- decrease counter #x (new value)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.9023" x="124.9229" y="4430.7891">- append event record (new event)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.9043" x="124.9229" y="4446.0996">- close secure session (not ratified)</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,4460.8418,86.0166,4464.8418,96.0166,4468.8418,92.0166,4464.8418" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="4464.8418" y2="4464.8418"/></g><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,4490.1523,490.916,4494.1523,480.916,4498.1523,484.916,4494.1523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="4494.1523" y2="4494.1523"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.0635" x="92.0166" y="4489.4102">process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3145" x="148.1934" y="4489.4102">commands (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="34.417" x="225.5078" y="4489.4102">close</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7661" x="264.0381" y="4489.4102">channel after)</text></g><g class="message" data-participant-1="capi" data-participant-2="capi"><line style="stroke:#181818;stroke-width:1;" x1="502.916" x2="544.916" y1="4523.4629" y2="4523.4629"/><line style="stroke:#181818;stroke-width:1;" x1="544.916" x2="544.916" y1="4523.4629" y2="4536.4629"/><line style="stroke:#181818;stroke-width:1;" x1="503.916" x2="544.916" y1="4536.4629" y2="4536.4629"/><polygon fill="#181818" points="513.916,4532.4629,503.916,4536.4629,513.916,4540.4629,509.916,4536.4629" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.603" x="509.916" y="4518.7207">anticipates the future card responses</text></g><path d="M140,4549.4629 L140,4589.4629 L854,4589.4629 L854,4559.4629 L844,4549.4629 L140,4549.4629" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M844,4549.4629 L844,4559.4629 L854,4559.4629 L844,4549.4629" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.2744" x="146" y="4567.0313">If the current value of the counter #x were</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="61.896" x="417.3877" y="4567.0313">unknown</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.6108" x="479.2837" y="4567.0313">, then the transmission of an additional card APDU</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="693.856" x="146" y="4582.3418">message would be necessary to operate the decrease counter in a different message than the session closing.</text><g class="message" data-participant-1="capi" data-participant-2="samReader"><polygon fill="#00FF00" points="1404.1509,4643.0156,1414.1509,4647.0156,1404.1509,4651.0156,1408.1509,4647.0156" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;" x1="502.916" x2="1410.1509" y1="4647.0156" y2="4647.0156"/><text fill="#008000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50.2354" x="509.916" y="4611.6523">SAM #1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="4626.9629">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="4642.2734">- APDU list</text></g><path d="M1182,4660.0156 L1182,4691.0156 L1658,4691.0156 L1658,4670.0156 L1648,4660.0156 L1182,4660.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1648,4660.0156 L1648,4670.0156 L1658,4670.0156 L1648,4660.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1207.5,4674.7656 C1207.5,4680.1503 1203.1347,4684.5156 1197.75,4684.5156 C1192.3653,4684.5156 1188,4680.1503 1188,4674.7656 C1188,4669.3809 1192.3653,4665.0156 1197.75,4665.0156 C1203.1347,4665.0156 1207.5,4669.3809 1207.5,4674.7656" fill="#FFCC4D"/><path d="M1188.6717,4670.9837 C1188.8017,4671.1132 1189.4506,4671.5021 1189.58,4671.891 C1189.71,4672.2794 1189.97,4674.4823 1190.749,4675.1307 C1191.5523,4675.798 1194.5823,4675.55 1195.1625,4675.2607 C1196.4608,4674.6134 1196.6201,4672.8064 1196.8498,4671.891 C1196.9792,4671.3726 1197.7581,4671.3726 1197.7581,4671.3726 C1197.7581,4671.3726 1198.537,4671.3726 1198.667,4671.8905 C1198.8967,4672.8064 1199.057,4674.6134 1200.3543,4675.2602 C1200.935,4675.55 1203.9651,4675.7986 1204.7695,4675.1313 C1205.5473,4674.4829 1205.8068,4672.2799 1205.9368,4671.891 C1206.0657,4671.5026 1206.7157,4671.1137 1206.8451,4670.9843 C1206.9757,4670.8548 1206.9757,4670.3364 1206.8451,4670.2064 C1206.5857,4669.9475 1203.5225,4669.7168 1200.2243,4670.077 C1199.5662,4670.149 1199.316,4670.3359 1197.7576,4670.3359 C1196.2003,4670.3359 1195.949,4670.1485 1195.2914,4670.077 C1191.9953,4669.7162 1188.9317,4669.947 1188.6717,4670.2059 C1188.5422,4670.3353 1188.5422,4670.8543 1188.6717,4670.9837" fill="#292F33"/><path d="M1202.8065,4677.8147 C1202.71,4677.7275 1202.566,4677.722 1202.4625,4677.799 C1202.4414,4677.8147 1200.3381,4679.3698 1197.75,4679.3698 C1195.1684,4679.3698 1193.0581,4677.8147 1193.0375,4677.799 C1192.934,4677.722 1192.79,4677.7285 1192.6935,4677.8147 C1192.5977,4677.9013 1192.576,4678.0443 1192.6426,4678.1548 C1192.7125,4678.2713 1194.3852,4680.9948 1197.75,4680.9948 C1201.1148,4680.9948 1202.788,4678.2713 1202.8574,4678.1548 C1202.924,4678.0438 1202.9029,4677.9013 1202.8065,4677.8147" fill="#664500"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431.9453" x="1211.6133" y="4683.3984">All card session data managed within a single SAM command group.</text><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4713.4512,1677.4409,4717.4512,1667.4409,4721.4512,1671.4409,4717.4512" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4717.4512" y2="4717.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.124" x="1433.1509" y="4712.709">select diversifier (card serial)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4727.4512,1427.1509,4731.4512,1437.1509,4735.4512,1433.1509,4731.4512" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4731.4512" y2="4731.4512"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4756.7617,1677.4409,4760.7617,1667.4409,4764.7617,1671.4409,4760.7617" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4760.7617" y2="4760.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.8311" x="1433.1509" y="4756.0195">digest init (opening data)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4770.7617,1427.1509,4774.7617,1437.1509,4778.7617,1433.1509,4774.7617" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4774.7617" y2="4774.7617"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4800.0723,1677.4409,4804.0723,1667.4409,4808.0723,1671.4409,4804.0723" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4804.0723" y2="4804.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.6914" x="1433.1509" y="4799.3301">digest update (read environment)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4814.0723,1427.1509,4818.0723,1437.1509,4822.0723,1433.1509,4818.0723" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4818.0723" y2="4818.0723"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4843.3828,1677.4409,4847.3828,1667.4409,4851.3828,1671.4409,4847.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4847.3828" y2="4847.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.8594" x="1433.1509" y="4842.6406">digest update (last event)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4857.3828,1427.1509,4861.3828,1437.1509,4865.3828,1433.1509,4861.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4861.3828" y2="4861.3828"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4886.6934,1677.4409,4890.6934,1667.4409,4894.6934,1671.4409,4890.6934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4890.6934" y2="4890.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.9243" x="1433.1509" y="4885.9512">digest update (read contract list)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4900.6934,1427.1509,4904.6934,1437.1509,4908.6934,1433.1509,4904.6934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4904.6934" y2="4904.6934"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4930.0039,1677.4409,4934.0039,1667.4409,4938.0039,1671.4409,4934.0039" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4934.0039" y2="4934.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1123" x="1433.1509" y="4929.2617">digest update (read contract #x)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4944.0039,1427.1509,4948.0039,1437.1509,4952.0039,1433.1509,4948.0039" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4948.0039" y2="4948.0039"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,4973.3145,1677.4409,4977.3145,1667.4409,4981.3145,1671.4409,4977.3145" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="4977.3145" y2="4977.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.0435" x="1433.1509" y="4972.5723">digest update (read counters)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,4987.3145,1427.1509,4991.3145,1437.1509,4995.3145,1433.1509,4991.3145" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="4991.3145" y2="4991.3145"/></g><path d="M1360.6436,5006.3145 L1654.3638,5006.3145 L1654.3638,5019.4395 L1644.3638,5029.4395 L1360.6436,5029.4395 L1360.6436,5006.3145" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="109.7461" style="stroke:#000000;stroke-width:1.5;" width="358.2974" x="1360.6436" y="5006.3145"/><path d="M1395.1436,5017.0645 C1395.1436,5022.4492 1390.7783,5026.8145 1385.3936,5026.8145 C1380.0088,5026.8145 1375.6436,5022.4492 1375.6436,5017.0645 C1375.6436,5011.6797 1380.0088,5007.3145 1385.3936,5007.3145 C1390.7783,5007.3145 1395.1436,5011.6797 1395.1436,5017.0645" fill="#FFCC4D"/><path d="M1376.3152,5013.2825 C1376.4452,5013.412 1377.0941,5013.8009 1377.2236,5014.1898 C1377.3536,5014.5782 1377.6136,5016.7812 1378.3925,5017.4295 C1379.1958,5018.0969 1382.2259,5017.8488 1382.806,5017.5595 C1384.1044,5016.9122 1384.2636,5015.1052 1384.4933,5014.1898 C1384.6228,5013.6715 1385.4017,5013.6715 1385.4017,5013.6715 C1385.4017,5013.6715 1386.1806,5013.6715 1386.3106,5014.1893 C1386.5403,5015.1052 1386.7006,5016.9122 1387.9979,5017.559 C1388.5786,5017.8488 1391.6086,5018.0974 1392.413,5017.4301 C1393.1908,5016.7817 1393.4503,5014.5787 1393.5803,5014.1898 C1393.7092,5013.8015 1394.3592,5013.4125 1394.4887,5013.2831 C1394.6192,5013.1536 1394.6192,5012.6352 1394.4887,5012.5052 C1394.2292,5012.2463 1391.1661,5012.0156 1387.8679,5012.3758 C1387.2098,5012.4478 1386.9595,5012.6347 1385.4011,5012.6347 C1383.8438,5012.6347 1383.5925,5012.4473 1382.9349,5012.3758 C1379.6389,5012.015 1376.5752,5012.2458 1376.3152,5012.5047 C1376.1858,5012.6342 1376.1858,5013.1531 1376.3152,5013.2825" fill="#292F33"/><path d="M1390.45,5020.1135 C1390.3536,5020.0263 1390.2095,5020.0209 1390.1061,5020.0978 C1390.0849,5020.1135 1387.9816,5021.6686 1385.3936,5021.6686 C1382.812,5021.6686 1380.7016,5020.1135 1380.6811,5020.0978 C1380.5776,5020.0209 1380.4335,5020.0274 1380.3371,5020.1135 C1380.2412,5020.2002 1380.2196,5020.3432 1380.2862,5020.4537 C1380.3561,5020.5701 1382.0287,5023.2936 1385.3936,5023.2936 C1388.7584,5023.2936 1390.4316,5020.5701 1390.5009,5020.4537 C1390.5676,5020.3426 1390.5464,5020.2002 1390.45,5020.1135" fill="#664500"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="4.2847" x="1395.1436" y="5025.6973">&#160;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74.5786" x="1399.4282" y="5025.6973">anticipated</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146.0723" x="1478.2915" y="5025.6973">Card APDU responses</text><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,5046.75,1677.4409,5050.75,1667.4409,5054.75,1671.4409,5050.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="5050.75" y2="5050.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.1875" x="1433.1509" y="5046.0078">digest update (decrease counter)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,5060.75,1427.1509,5064.75,1437.1509,5068.75,1433.1509,5064.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="5064.75" y2="5064.75"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,5090.0605,1677.4409,5094.0605,1667.4409,5098.0605,1671.4409,5094.0605" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="5094.0605" y2="5094.0605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.29" x="1433.1509" y="5089.3184">digest update (append event record)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,5104.0605,1427.1509,5108.0605,1437.1509,5112.0605,1433.1509,5108.0605" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="5108.0605" y2="5108.0605"/></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,5140.3711,1677.4409,5144.3711,1667.4409,5148.3711,1671.4409,5144.3711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="5144.3711" y2="5144.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1626" x="1433.1509" y="5139.6289">digest close</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,5169.6816,1427.1509,5173.6816,1437.1509,5177.6816,1433.1509,5173.6816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="5173.6816" y2="5173.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.0576" x="1443.1509" y="5168.9395">[SAM certificate]</text></g><g class="message" data-participant-1="samReader" data-participant-2="capi"><polygon fill="#00FF00" points="513.916,5198.9922,503.916,5202.9922,513.916,5206.9922,509.916,5202.9922" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="1420.1509" y1="5202.9922" y2="5202.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.0576" x="519.916" y="5198.25">[SAM certificate]</text></g><g class="message" data-participant-1="capi" data-participant-2="cardReader"><polygon fill="#0000FF" points="749.519,5258.9238,759.519,5262.9238,749.519,5266.9238,753.519,5262.9238" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="502.916" x2="755.519" y1="5262.9238" y2="5262.9238"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.8633" x="509.916" y="5227.5605">Card #7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="5242.8711">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="5258.1816">- APDU list</text></g><path d="M704.6616,5277.9238 L999.5435,5277.9238 L999.5435,5285.2344 L989.5435,5295.2344 L704.6616,5295.2344 L704.6616,5277.9238" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="247.1055" style="stroke:#000000;stroke-width:1.5;" width="414.7607" x="704.6616" y="5277.9238"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.8818" x="719.6616" y="5291.4922">Card APDU commands inside session</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,5312.5449,1028.1665,5316.5449,1018.1665,5320.5449,1022.1665,5316.5449" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="5316.5449" y2="5316.5449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.5405" x="778.519" y="5311.8027">decrease counter (counter #1, value)</text></g><rect fill="#7FFFD4" height="53" style="stroke:#181818;stroke-width:0.5;" width="150" x="959" y="5329.5449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.4224" x="963" y="5346.1133">data update is delayed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.5532" x="963" y="5361.4238">in the volatile card's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.5957" x="963" y="5376.7344">modification buffer</text><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,5405.7871,772.519,5409.7871,782.519,5413.7871,778.519,5409.7871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="5409.7871" y2="5409.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.189" x="788.519" y="5405.0449">[new counter value]</text></g><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,5435.0977,1028.1665,5439.0977,1018.1665,5443.0977,1022.1665,5439.0977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="5439.0977" y2="5439.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1987" x="778.519" y="5434.3555">append record (event, data)</text></g><rect fill="#7FFFD4" height="53" style="stroke:#181818;stroke-width:0.5;" width="150" x="959" y="5452.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.4224" x="963" y="5468.666">data update is delayed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.5532" x="963" y="5483.9766">in the volatile card's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.5957" x="963" y="5499.2871">modification buffer</text><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,5513.0293,772.519,5517.0293,782.519,5521.0293,778.519,5517.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="5517.0293" y2="5517.0293"/></g><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,5564.6504,1028.1665,5568.6504,1018.1665,5572.6504,1022.1665,5568.6504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="5568.6504" y2="5568.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.6475" x="778.519" y="5548.5977">close secure session (SAM certificate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13.8062" x="782.6323" y="5563.9082">as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="82.5767" x="800.5518" y="5563.9082">non-ratified</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="883.1284" y="5563.9082">)</text></g><g class="message" data-participant-1="card" data-participant-2="card"><line style="stroke:#181818;stroke-width:1;" x1="1040.1665" x2="1082.1665" y1="5613.2715" y2="5613.2715"/><line style="stroke:#181818;stroke-width:1;" x1="1082.1665" x2="1082.1665" y1="5613.2715" y2="5626.2715"/><line style="stroke:#181818;stroke-width:1;" x1="1041.1665" x2="1082.1665" y1="5626.2715" y2="5626.2715"/><polygon fill="#181818" points="1051.1665,5622.2715,1041.1665,5626.2715,1051.1665,5630.2715,1047.1665,5626.2715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.4971" x="1047.1665" y="5593.2188">if the SAM certificate is authenticated,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.9697" x="1047.1665" y="5608.5293">data updates are commited atomically</text></g><rect fill="#7FFFD4" height="38" style="stroke:#181818;stroke-width:0.5;" width="199" x="935" y="5639.2715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3652" x="939" y="5655.8398">card data is updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.8135" x="939" y="5671.1504">modification buffer is emptied</text><polygon fill="#B0E0E6" points="991,5687.8926,1077,5687.8926,1087,5706.8926,1077,5725.8926,991,5725.8926,981,5706.8926,991,5687.8926" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.2783" x="993" y="5704.4609">card in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="82.5767" x="993" y="5719.7715">non-ratified</text><rect fill="#D8BFD8" height="84" style="stroke:#181818;stroke-width:0.5;" width="355" x="669" y="5736.5137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347.2813" x="673" y="5753.082">&#9888;&#65039; very short period during which a RF communication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332.0713" x="673" y="5768.3926">loss could allow card data to be updated without the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.7271" x="673" y="5783.7031">terminal being able to get the card certificate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318.481" x="673" y="5799.0137">&#8594; if this happens, a recovery transaction will need</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.7866" x="673" y="5814.3242">to be managed afterward</text><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,5843.377,772.519,5847.377,782.519,5851.377,778.519,5847.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="5847.377" y2="5847.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.229" x="788.519" y="5842.6348">[card certificate]</text></g><path d="M534,5860.377 L534,5891.377 L998,5891.377 L998,5870.377 L988,5860.377 L534,5860.377" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M988,5860.377 L988,5870.377 L998,5870.377 L988,5860.377" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M559.5,5875.127 C559.5,5880.5117 555.1347,5884.877 549.75,5884.877 C544.3653,5884.877 540,5880.5117 540,5875.127 C540,5869.7422 544.3653,5865.377 549.75,5865.377 C555.1347,5865.377 559.5,5869.7422 559.5,5875.127" fill="#FFCC4D"/><path d="M540.6717,5871.345 C540.8017,5871.4745 541.4506,5871.8634 541.58,5872.2523 C541.71,5872.6407 541.97,5874.8437 542.749,5875.492 C543.5523,5876.1594 546.5823,5875.9113 547.1625,5875.622 C548.4608,5874.9747 548.6201,5873.1677 548.8498,5872.2523 C548.9792,5871.734 549.7581,5871.734 549.7581,5871.734 C549.7581,5871.734 550.537,5871.734 550.667,5872.2518 C550.8967,5873.1677 551.057,5874.9747 552.3543,5875.6215 C552.935,5875.9113 555.9651,5876.1599 556.7695,5875.4926 C557.5473,5874.8442 557.8068,5872.6412 557.9368,5872.2523 C558.0657,5871.864 558.7157,5871.475 558.8451,5871.3456 C558.9757,5871.2161 558.9757,5870.6977 558.8451,5870.5677 C558.5857,5870.3088 555.5225,5870.0781 552.2243,5870.4383 C551.5662,5870.5103 551.316,5870.6972 549.7576,5870.6972 C548.2003,5870.6972 547.949,5870.5098 547.2914,5870.4383 C543.9953,5870.0775 540.9317,5870.3083 540.6717,5870.5672 C540.5422,5870.6967 540.5422,5871.2156 540.6717,5871.345" fill="#292F33"/><path d="M554.8065,5878.176 C554.71,5878.0888 554.566,5878.0834 554.4625,5878.1603 C554.4414,5878.176 552.3381,5879.7311 549.75,5879.7311 C547.1684,5879.7311 545.0581,5878.176 545.0375,5878.1603 C544.934,5878.0834 544.79,5878.0899 544.6935,5878.176 C544.5977,5878.2627 544.576,5878.4057 544.6426,5878.5162 C544.7125,5878.6326 546.3852,5881.3561 549.75,5881.3561 C553.1148,5881.3561 554.788,5878.6326 554.8574,5878.5162 C554.924,5878.4051 554.9029,5878.2627 554.8065,5878.176" fill="#664500"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419.9102" x="563.6133" y="5883.7598">ratification command immediately performed after session closing</text><g class="message" data-participant-1="cardReader" data-participant-2="card"><polygon fill="#181818" points="1018.1665,5913.8125,1028.1665,5917.8125,1018.1665,5921.8125,1022.1665,5917.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="771.519" x2="1024.1665" y1="5917.8125" y2="5917.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.6274" x="778.519" y="5913.0703">ratification command</text></g><polygon fill="#B0E0E6" points="992,5930.8125,1078,5930.8125,1088,5949.8125,1078,5968.8125,992,5968.8125,982,5949.8125,992,5930.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.2783" x="994" y="5947.3809">card in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="48.896" x="994" y="5962.6914">ratified</text><g class="message" data-participant-1="card" data-participant-2="cardReader"><polygon fill="#181818" points="782.519,5991.7441,772.519,5995.7441,782.519,5999.7441,778.519,5995.7441" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="776.519" x2="1029.1665" y1="5995.7441" y2="5995.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.436" x="788.519" y="5991.002">ack</text></g><g class="message" data-participant-1="cardReader" data-participant-2="capi"><polygon fill="#0000FF" points="513.916,6021.0547,503.916,6025.0547,513.916,6029.0547,509.916,6025.0547" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="765.519" y1="6025.0547" y2="6025.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.229" x="519.916" y="6020.3125">[card certificate]</text></g><polygon fill="#FFA500" points="688,6038.0547,843,6038.0547,853,6057.0547,843,6076.0547,688,6076.0547,678,6057.0547,688,6038.0547" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.4243" x="690" y="6054.623">reader in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="151.9248" x="690" y="6069.9336">Wait For Card Removal</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="6102.3311"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6102.3311" y2="6102.3311"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6105.3311" y2="6105.3311"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="279.8779" x="724.5315" y="6091.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="261.5933" x="730.5315" y="6108.2441">End of the contactless card transaction</text><g class="message" data-participant-1="capi" data-participant-2="samReader"><polygon fill="#00FF00" points="1404.1509,6172.918,1414.1509,6176.918,1404.1509,6180.918,1408.1509,6176.918" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;" x1="502.916" x2="1410.1509" y1="6176.918" y2="6176.918"/><text fill="#008000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50.2354" x="509.916" y="6141.5547">SAM #2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="6156.8652">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="6172.1758">- APDU list</text></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,6202.2285,1677.4409,6206.2285,1667.4409,6210.2285,1671.4409,6206.2285" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="6206.2285" y2="6206.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.2842" x="1433.1509" y="6201.4863">digest authenticate (card certificate)</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,6231.5391,1427.1509,6235.5391,1437.1509,6239.5391,1433.1509,6235.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="6235.5391" y2="6235.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.4131" x="1443.1509" y="6230.7969">[authentication status]</text></g><g class="message" data-participant-1="samReader" data-participant-2="capi"><polygon fill="#00FF00" points="513.916,6260.8496,503.916,6264.8496,513.916,6268.8496,509.916,6264.8496" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="1420.1509" y1="6264.8496" y2="6264.8496"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.9507" x="519.916" y="6260.1074">[authentification status]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,6427.9551,86.0166,6431.9551,96.0166,6435.9551,92.0166,6431.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="6431.9551" y2="6431.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8472" x="102.0166" y="6289.418">[Calypso card image:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0708" x="134.9229" y="6304.7285">- identification data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="134.9229" y="6320.0391">- invalidation status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.6304" x="134.9229" y="6335.3496">- environment data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.522" x="134.9229" y="6350.6602">-</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="line-through" textLength="110.5063" x="146.5581" y="6350.6602">ratification status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3018" x="134.9229" y="6365.9707">- last event data (updated)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8633" x="134.9229" y="6381.2813">- contract list data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.0513" x="134.9229" y="6396.5918">- contract #x data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.356" x="134.9229" y="6411.9023">- counter #x data (updated)]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.4956" x="102.0166" y="6427.2129">authentification status</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="6467.0801" y2="6467.0801"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="6467.0801" y2="6480.0801"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="6480.0801" y2="6480.0801"/><polygon fill="#181818" points="96.0166,6476.0801,86.0166,6480.0801,96.0166,6484.0801,92.0166,6480.0801" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.4629" x="92.0166" y="6462.3379">card successfully authenticated</text><ellipse cx="297.4868" cy="6458.8509" fill="#CCD6DD" rx="0.8125" ry="0.8125" style="stroke:#CCD6DD;stroke-width:1;"/><path d="M298.7976,6451.1235 C298.8253,6450.9951 298.841,6450.8624 298.841,6450.7259 C298.841,6449.6789 297.9922,6448.8301 296.9451,6448.8301 C295.9896,6448.8301 295.2075,6449.5386 295.0764,6450.4578 C295.0672,6450.4578 295.0585,6450.4551 295.0493,6450.4551 C294.4513,6450.4551 293.966,6450.9404 293.966,6451.5384 C293.966,6452.1364 294.4513,6452.6217 295.0493,6452.6217 C295.0672,6452.6217 295.0834,6452.6174 295.1008,6452.6163 C295.0694,6452.703 295.0493,6452.7951 295.0493,6452.8926 C295.0493,6453.1417 295.1641,6453.3622 295.3413,6453.5117 C295.1614,6453.7051 295.0493,6453.9618 295.0493,6454.2467 C295.0493,6454.8447 295.5346,6455.3301 296.1326,6455.3301 C296.1326,6455.5332 296.1922,6455.7206 296.2892,6455.8831 C295.8954,6455.9389 295.591,6456.2747 295.591,6456.6842 C295.591,6457.1327 295.955,6457.4967 296.4035,6457.4967 C296.852,6457.4967 297.216,6457.1327 297.216,6456.6842 C297.216,6456.5867 297.1959,6456.4947 297.1645,6456.408 C297.1819,6456.4091 297.1981,6456.4134 297.216,6456.4134 C297.814,6456.4134 298.2993,6455.9281 298.2993,6455.3301 C298.2993,6455.0045 298.1531,6454.7164 297.9256,6454.5176 C298.1525,6454.3188 298.2993,6454.0306 298.2993,6453.7051 C298.2993,6453.5003 298.2392,6453.3107 298.1401,6453.1472 C298.1926,6453.1553 298.2446,6453.1634 298.2993,6453.1634 C298.8973,6453.1634 299.3826,6452.6781 299.3826,6452.0801 C299.3826,6451.6625 299.1438,6451.3044 298.7976,6451.1235" fill="#CCD6DD"/><ellipse cx="296.6743" cy="6454.2467" fill="#E4EBEF" rx="0.5417" ry="0.5417" style="stroke:#E4EBEF;stroke-width:1;"/><path d="M298.2993,6450.9967 C298.2993,6450.3982 297.8145,6449.9134 297.216,6449.9134 C296.6174,6449.9134 296.1326,6450.3982 296.1326,6450.9967 C296.1326,6451.0141 296.137,6451.0309 296.1381,6451.0482 C296.0514,6451.0168 295.9593,6450.9967 295.8618,6450.9967 C295.4128,6450.9967 295.0493,6451.3602 295.0493,6451.8092 C295.0493,6452.2583 295.4128,6452.6217 295.8618,6452.6217 C295.9691,6452.6217 296.0704,6452.6001 296.1641,6452.5622 C296.2572,6452.9077 296.5698,6453.1634 296.9451,6453.1634 C297.3942,6453.1634 297.7576,6452.8 297.7576,6452.3509 C297.7576,6452.2166 297.7219,6452.092 297.6645,6451.9804 C298.0382,6451.8098 298.2993,6451.435 298.2993,6450.9967" fill="#E4EBEF"/><path d="M297.5475,6445.6212 C297.1049,6445.189 297.1049,6445.189 297.0746,6445.1652 C297.2008,6444.8304 297.1634,6444.4778 296.9392,6444.2487 C296.5996,6443.915 295.9869,6443.9843 295.5655,6444.4057 L294.4166,6445.5546 C293.9958,6445.9755 293.9259,6446.5887 294.2596,6446.9283 C294.4887,6447.152 294.8408,6447.1899 295.1761,6447.0637 C295.2004,6447.0935 295.6321,6447.5366 295.6321,6447.5366 C296.0552,6447.9591 296.7409,6447.9591 297.164,6447.5366 L297.5469,6447.1531 C297.97,6446.73 297.97,6446.0443 297.5475,6445.6212" fill="#C1694F"/><path d="M297.2366,6446.1136 C297.2886,6446.0616 297.4505,6445.8905 297.6174,6445.7074 C297.5941,6445.6787 297.574,6445.6483 297.5469,6445.6212 C297.5469,6445.6212 297.1044,6445.189 297.0741,6445.1652 C297.0134,6445.3266 296.9175,6445.4847 296.7805,6445.6212 L295.6327,6446.7701 C295.4956,6446.9072 295.3375,6447.003 295.1761,6447.0637 C295.2004,6447.0935 295.6321,6447.5366 295.6321,6447.5366 C295.6587,6447.5631 295.6896,6447.5832 295.7183,6447.607 C295.8759,6447.4656 296.0346,6447.3161 296.0877,6447.2636 L297.2366,6446.1136" fill="#A95233"/><path d="M312.4969,6456.8397 L309.7523,6454.0951 C307.7676,6452.1104 305.7862,6451.8526 301.9751,6450.3332 L300.2694,6452.0389 C302.0195,6455.6193 302.0222,6457.8559 304.0069,6459.8405 L306.752,6462.5857 C307.2899,6463.1236 307.72,6463.5661 308.2589,6463.0277 L312.8138,6458.4712 C313.3533,6457.9317 313.0348,6457.3776 312.4969,6456.8397" fill="#264612"/><path d="M302.3705,6450.5439 C303.3124,6450.8927 303.3124,6450.8927 302.0671,6452.138 C300.9177,6453.2875 300.4871,6452.4907 300.4871,6452.4907 L298.62,6450.6235 L300.5353,6448.7082 L302.3705,6450.5439" fill="#FFE8B6"/><path d="M300.7016,6448.875 L300.1524,6448.3252 L298.237,6450.24 L298.7863,6450.7898 C299.3247,6451.3277 299.2299,6451.3613 300.2184,6450.3727 L300.5391,6450.0515 C301.3202,6449.2699 301.2395,6449.4129 300.7016,6448.875" fill="#FFD983"/><path d="M300.3436,6447.7505 C300.661,6448.068 300.661,6448.5825 300.343,6448.9 L298.8117,6450.4312 C298.4943,6450.7492 297.9797,6450.7492 297.6623,6450.4312 C297.3449,6450.1144 297.3449,6449.5992 297.6623,6449.2818 L299.1936,6447.7505 C299.5116,6447.4337 300.0261,6447.4331 300.3436,6447.7505" fill="#264612"/><path d="M308.9615,6454.8366 C308.5384,6454.4141 307.8521,6454.4141 307.4291,6454.8366 L304.7484,6457.5179 C304.3254,6457.9404 304.3254,6458.6267 304.7484,6459.0497 L307.0461,6461.3475 C307.4692,6461.7705 308.1555,6461.7705 308.5785,6461.3475 L311.2592,6458.6667 C311.6823,6458.2437 311.6823,6457.5574 311.2592,6457.1349 L308.9615,6454.8366" fill="#FFE8B6"/></g><g class="message" data-participant-1="app" data-participant-2="app"><polygon fill="#181818" points="331.9106,6511.2793,341.9106,6515.2793,331.9106,6519.2793,335.9106,6515.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="337.9106" y1="6515.2793" y2="6515.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.8999" x="92.0166" y="6510.5371">notification &amp;</text><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="145.8809" x="181.0298" y="6509.4824">access granting</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="6543.9346"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6543.9346" y2="6543.9346"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6546.9346" y2="6546.9346"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="252.1006" x="738.4202" y="6533.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="233.8159" x="744.4202" y="6549.8477">End of the Access Control opertion</text><g class="message" data-participant-1="app" data-participant-2="capi"><polygon fill="#181818" points="480.916,6583.9004,490.916,6587.9004,480.916,6591.9004,484.916,6587.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="486.916" y1="6587.9004" y2="6587.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.2612" x="92.0166" y="6583.1582">init</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.7017" x="118.3911" y="6583.1582">crypto context for next transaction</text></g><g class="message" data-participant-1="capi" data-participant-2="samReader"><polygon fill="#00FF00" points="1404.1509,6643.832,1414.1509,6647.832,1404.1509,6651.832,1408.1509,6647.832" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;" x1="502.916" x2="1410.1509" y1="6647.832" y2="6647.832"/><text fill="#008000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.5522" x="509.916" y="6612.4688">SAM #x'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.9224" x="509.916" y="6627.7793">transmit card request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.6528" x="542.8223" y="6643.0898">- APDU list</text></g><g class="message" data-participant-1="samReader" data-participant-2="sam"><polygon fill="#181818" points="1667.4409,6673.1426,1677.4409,6677.1426,1667.4409,6681.1426,1671.4409,6677.1426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1426.1509" x2="1673.4409" y1="6677.1426" y2="6677.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.4048" x="1433.1509" y="6672.4004">get challenge</text></g><g class="message" data-participant-1="sam" data-participant-2="samReader"><polygon fill="#181818" points="1437.1509,6702.4531,1427.1509,6706.4531,1437.1509,6710.4531,1433.1509,6706.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1431.1509" x2="1678.4409" y1="6706.4531" y2="6706.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8169" x="1443.1509" y="6701.7109">[SAM challenge]</text></g><g class="message" data-participant-1="samReader" data-participant-2="capi"><polygon fill="#00FF00" points="513.916,6731.7637,503.916,6735.7637,513.916,6739.7637,509.916,6735.7637" style="stroke:#00FF00;stroke-width:1;"/><line style="stroke:#00FF00;stroke-width:1;stroke-dasharray:2,2;" x1="507.916" x2="1420.1509" y1="6735.7637" y2="6735.7637"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8169" x="519.916" y="6731.0215">[SAM challenge]</text></g><g class="message" data-participant-1="capi" data-participant-2="app"><polygon fill="#181818" points="96.0166,6745.7637,86.0166,6749.7637,96.0166,6753.7637,92.0166,6749.7637" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.0166" x2="496.916" y1="6749.7637" y2="6749.7637"/></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="85.0166" x2="127.0166" y1="6779.0742" y2="6779.0742"/><line style="stroke:#181818;stroke-width:1;" x1="127.0166" x2="127.0166" y1="6779.0742" y2="6792.0742"/><line style="stroke:#181818;stroke-width:1;" x1="86.0166" x2="127.0166" y1="6792.0742" y2="6792.0742"/><polygon fill="#181818" points="96.0166,6788.0742,86.0166,6792.0742,96.0166,6796.0742,92.0166,6792.0742" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.355" x="92.0166" y="6774.332">wait</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="124.4849" y="6774.332">for card removal</text></g><line style="stroke:#A80036;stroke-width:2;" x1="1026.1665" x2="1044.1665" y1="6783.0742" y2="6801.0742"/><line style="stroke:#A80036;stroke-width:2;" x1="1026.1665" x2="1044.1665" y1="6801.0742" y2="6783.0742"/><g class="message" data-participant-1="cardReader" data-participant-2="cardReader"><polygon fill="#FFA500" points="777.519,6817.3848,767.519,6821.3848,777.519,6825.3848,773.519,6821.3848" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="771.519" x2="936.6895" y1="6821.3848" y2="6821.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.3394" x="783.519" y="6816.6426">card</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.0186" x="814.9717" y="6816.6426">removal</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4727" x="877.2168" y="6816.6426">.  .  .  .  .</text></g><polygon fill="#FFA500" points="687,6834.3848,845,6834.3848,855,6853.3848,845,6872.3848,687,6872.3848,677,6853.3848,687,6834.3848" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.4243" x="689" y="6850.9531">reader in state:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154.9082" x="689" y="6866.2637">Wait For Card Insertion</text><g class="message" data-participant-1="cardReader" data-participant-2="rapi"><polygon fill="#FFA500" points="419.7148,6895.3164,409.7148,6899.3164,419.7148,6903.3164,415.7148,6899.3164" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="413.7148" x2="765.519" y1="6899.3164" y2="6899.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.0186" x="425.7148" y="6894.5742">removal</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1728.9409" x="0" y="6927.9717"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6927.9717" y2="6927.9717"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1728.9409" y1="6930.9717" y2="6930.9717"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="226.1831" x="751.3789" y="6917.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207.8984" x="757.3789" y="6933.8848">ready for next card transaction</text><!--SRC=[xLhDRjmu4hxtKn0nuDY2UyPsd77IiBrezy_0XqM2J1PxY7rWI-nkmXAb8ILtUXvWhmliSK_x6FiyymBx2bj5KXBrqt-sCvi46mH1MYooVbZrLR78b-gUYuHA6f51I9MwZcN0v20EOqdsnYU3i-DnPnt9yAm_E1uw92fbaiNfCc7z2c7_xN0m7BSItbG8hy_wvwFNhOI3weh3uSdrQIlXg48ukdxxgifwJeDumSMCJ6ceMCSP-YMbALklOTzF-GDFbsrKdPVa0miQ5gF-_Kp6cGWqzSM5PC7L5TXtE1gE1cliMr2Epiy6hmQTEGyOoJ-MwWBNzvbCGhQHSQB9DE-pqM1ylfPtIVncT7RM7-RiY-yL2IPXjfa_4cbzhiUlnzThkUUahyxUlXbUvxpjrmhddoLZOYFh6L9ftlrnVtoobdT1UpeQ3CvFSkRvPuSxi7ydgPXjLZtMP6RRnwUZjsi5A8b7FvsFJazp2OhlLH700ijj3B0q-ey6ez4c_JNfwU3LwFMne_wonfhwANZ_Yu_SlsSf1bG_IKBkqvJ7uWMXYj0a8NkpE0mwm2lbFa-eICcB3um2Dz9_VwEf94qusKkukA-I3MYuJ5HyAmPK1WMrhwb3Ffkdr-XqRLC8phWLXe-T9GFBrfaxGGDHkIGlF0-dU5v1l975B_q_tufSA5KAPVnnzHH7A4MZYancgYiKpB0o0Ms52etF7m2k72E_BBurg2yl0RbyfXGPn2ALSKXOD651m0BoaSc82neInLBSHKKkBs7v9EbUmJyzudamu7d4qOA4V699KFCUkPZ2giH7_xb4VFAyH3Am0VEyYnznxCeOLR6G-UWUlLjnctR9b8VWJsIo9E_Z1PFTTu84DAKTHn4mR4KL_DBLedK2Lg6p4id7IKIKpmILFBQYXMn6_QNMjg0fvP96BksqibKYgINQ95ACUrAAf9R2dyjOn9bQ9TuQ6Jxj7H-FnyV7TrU5PrMv6WZJRaNsFXTiRy4Zg50HJnr-alsQCPKQOpYonDBTdJO7xXIVqJsY7eaJ9imI_fmAmSBEIaU5tzrkARwxbgEUiQTaFkCFh2ApIc81ERtY6SLQ8eRVyGE8gzs5m9-FSwQtMBA8Sg580i501HDfkBJhGeHCMBfWkGhQL5JpKpzqc0W8BWixNRf1hvognG0M4U21XZ4UqHbh-eaJIvxdKuK1Xt8Xo-sYeKS-EIwhsLXF1lmMAPzQODO1TjUCdHRZz175o5J6aLupYeCiTCnzH2Zyy3F9NAEG1K_dUZej84CRZYi2fWMnuByYOE0JWR5pF2MftGR0KzUcsYg-jGeN7AtYosMImfBWkEmpI0SPIE1_715AW_cEmJIKT_n71ChBjaZHEbM2fFz- -1T0HfLk2f1wVCnOYf4HXaoN4jKGW7tLZf2FtpdJ2proAzL9s-F0RmKitm4i_vbGNINCHyyZ_PjXPOoB1nfoS4Nm1hC6bDwPMhDpwuH-Jjol-EmJa7-jJCgVCmocKYZwDEWtGhXCQH10qCGJnIG4jUUvT0uPo99Yb0SiDTmWnBhWrmcZkgI3e8UecPVeu5PIjlYLvYSNUXTPh-DvVwKG8cE8JGrwDu39qYoEqJqtqUqAtcu-Mtyig8vy37Lj6TXHnOJFsieQo3NIu9pMonQFfIttwt28nKwfqyKdgzHTzq-aPzWXz1Jo4_A3-_V9fdblIW0mTSKsvLBTGg9YnnnnEXlA0SI7kwjojQepwlEKANt9tidJwu7sAjjLHekojYAe5z_ukzjrL6YOdEn1yGW31Nd5tEWDKyw2LUQr4Xbbi9ZEJp3aWFBWiCaVK5Op6GzkxXeBvIGGt_wzAc7EEYH2d3l7sQDTQXhN66xPuNcW7fykmKrpX0bgOAAA1TdErIgLoa6ipHmsuTLZwoI_MYUvYBrL0e4Th5OcwuibEz3SohjECnK18bd4QHH6zMCLX74AvqCEasjQkDFQqX8OECwapwf3feur8suzv-Vrt3i1rHOYaj9wWKeAp_POV2d4e5XK2jf7L09DkNMaMsDO9kHWEBg- -GXxhf4xP0yiF3JKA1nXue538enW8x1SO4yf2lnjJrv-745r2fOvyBnxnXAiD0qqQHKETwWfBS-UoiGCcojCzQv8fJ0ZD4HDb-HUn0jnAqGCDIn40TIr5cO9O6-GIKWB0CPprh1kn-6w0yQVFhgING7js6DAY6tGmAJ2ZDQtx9PtsfAazicQcTubAO_uRphAUWrFCFwHGfcKpUQkt-ez0cEv_ekhhyWyTN_K5WZO18nnpvP7Q8JAVfaluvkAG7gpA6I8d55hbYZtV9-OLEIx478hI6LHSpW39LQb2LldFtxj5Mda-T7H3DG5i77UbFPkvmZU3e2qou1_fGHmHgJV3fZi4DQl_bTXtHvZskHGoSGm_Q0q_Uf8AMcs3e36bA_LhsqtSQsurGCFrWJT111nGlrxspD1FhTYNsz49d8EKyf313AqDM3h4gf13RGITz8qXZ_EORyXX_xdtt___P__Wd_vrDqJ4li0XU36HCrZYIVp51nLGsiX1Y1ZI9U7dVrzYvH6CMpevCNr8VdzR_y0EZ_aeYrPVHdk8XQiMnN1MAimI4KAS2hPw2iz4LYm3INXSoEilXjiEVkAiQLY_JM9s2NRFiMspFgcGCOUrJUfKGMVN4YcYfbV95xsFd-NqVBwMuYMlSzRnChUvzqZfPZpNSH9xNkxSYkZ1r9Nx7FJu8upaQB-pnP7U8uoYtwlWVJJLnr8kUdNnP6bENdacUwx3gByQsx7pP4Li2cKbhPn1KVlBC7Benr3oje6wbJOJyLS0Gu4Mn2mJCPiAmeMnbw2qJ3VUIGoPnchGHWhrcWdG95PLiOR0-FPmrCBvSGddOAEXvjGmlB2kXlVhQHWQwp3frcAkkLjHztNLMtDnHjpYwlhUP1McpA_sdNil62mckTbGhU-FEy82Kp9RyFSDdIc80fUOd7qF1eQ2J1oDRS8jCT2Vn5d8LxG4y7G8FXi1fp3N0APpcPZipaiIm8-dJ8jQBvISVB8jn7DM6ifFUBo-EIPxuuhz_JHwaPQFmpplhnHHmTEVW6FT_JQ3gXXQExUhGiH3PIkrlNhQdjL4d0GGg6Jo_nanYIduM7Z4KTzWO3FT8jJW2aERETEoxVrL1FzvA3UBzvv0RSxyHZUjHF8avR0TFAu1RHZg-Pia_Dgdj54apBcWn9HoanPXZtwsGQ9wk5sc4-g2BR5GYtusxuM9jOLQsaaNFMW0gzGTMQ3LBlvJOLBlUPLnOvLpldNLUKqiB8iTKwER7RKKsNz1hR_QqOZAY55wt5YuCRk9RTD71ROGMwGzY4E8Kk6HfcNoWv6SL1M79CCSLgF5EsRLIKN9kTSNYthtGerhMlbILsxs945eAzJkqRrQ3Lfhpzg3djqA_05ALuEYsvv7MwljkrAl7o4vKn5vMY66JhLlmDOoz4T1h4s01_Z-X8tZICW2yFbbcOqzoxwAbBP9OFLTa8Y5YKfjqHbFs-d1m5LAvIF0eou8PlQ22nQfwPpING_KVSfyPKWZmDxGKSMS-xF8PT-65VRintO7EoYO8K2HeaNZhvGf43HObNMwJZEKjo1Jfe_nvqmN9nEm8E06j-85HU1pWvriEkfDm-iCzUUhV1XNbi75FX0LO0tZHt3Foy7T8MumElpmgQhBxGgkBdjlLxb695N6ZoAM817v7299ft6Cig5gLTXbIAiSJXhMVpfZqHQB43z-zhJ78lstUePRaMoMFE6PTTdGnzO50F6LHwrN5wI4LYfgBb52fn3l6AlTnBiewUTYzdJB_mGqgPj5t5iQUcOzB0beJipAiyprgNrVCwwUyZMHvD_nB6xssqvU7UxhKTlSc1nvF0P3k7bOdUtOeM9rftJpK4WqqyxfXcaWch-05o0OscKq9bWlIip3n_QwNTBEPTzSg7uRwntyWQBK_DAP2QnIiLNSXS_uk1LtTzRtW5MNzty_ntn7_cEUDtxJMd0grF7HlYjOFEMviUcHvaoXy3dVfBP_bfrxOlCGXRjbUPjJ-5HRUZxNm00]--></g></svg>